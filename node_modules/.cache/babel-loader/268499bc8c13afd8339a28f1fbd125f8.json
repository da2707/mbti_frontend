{"ast":null,"code":"var _jsxFileName = \"/Users/hyyyyjin/Documents/GitHub/mbti_frontend/src/page/More.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useMediaQuery } from 'react-responsive';\nimport { useLocation, Link, Route, BrowserRouter as Router } from 'react-router-dom';\nimport '../App.css';\nimport Avatar from 'react-avatar';\nimport { KakaoLinkDefault, KakaoLinkScrap } from 'react-kakao-link';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction More() {\n  _s();\n\n  const {\n    pathname\n  } = useLocation();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n  const location = useLocation();\n  const moreInputData = location.state;\n  console.log(\"ë”ë³´ê¸°ë¡œ ë„˜ì–´ì˜¨ ë°ì´í„° :: \" + JSON.stringify(moreInputData));\n  const [details, setDetails] = useState(null);\n  const [Harts, SetHarts] = useState(\"ğŸ¤\");\n  const [HartFlag, SetHartFlag] = useState(0);\n\n  const getUserGeolocationDetails = (e, name) => {\n    if (HartFlag == 0) {\n      SetHartFlag(1);\n      SetHarts(\"â¤\");\n    } else {\n      SetHartFlag(0);\n      SetHarts(\"ğŸ¤\");\n    }\n\n    let completed = false;\n\n    async function fetchData() {\n      await axios.post('https://geolocation-db.com/json/0f761a30-fe14-11e9-b59f-e53803842572').then(response => {\n        if (!completed) {\n          console.log(\"name :: \" + JSON.stringify(name));\n          console.log(\"name.item1 :: \" + name.name.item_1);\n          const Share = {\n            mbti_id: \"000001\",\n            item_1: name.name.item_1,\n            item_2: name.name.item_2,\n            type: \"like\",\n            ip_addr: response.data.IPv4,\n            mbti_type: moreInputData.my_type,\n            gender: moreInputData.gender\n          };\n          console.log(\"share \" + JSON.stringify(Share));\n          axios.post('https://1.238.222.186:9999/mbti/share', Share).then(response => {\n            console.log(\"share \" + JSON.stringify(Share));\n            console.log(response);\n          });\n          setDetails(response.data);\n          console.log(response.data); //console.log(\"geoLoc :: \" + JSON.stringify(details));\n          //console.log(\"IPv4 :: \" + details.IPv4);\n        }\n      });\n    }\n\n    fetchData();\n    return () => {\n      completed = true;\n    };\n  };\n\n  const isPc = useMediaQuery({\n    query: \"(min-width:1024px)\"\n  });\n  const isTablet = useMediaQuery({\n    query: \"(min-width:768px) and (max-width:1023px)\"\n  });\n  const isMobile = useMediaQuery({\n    query: \"(max-width:767px)\"\n  });\n  const [testData, setTestData] = useState([]);\n  useEffect(() => {\n    let completed = false;\n\n    async function fetchData() {\n      const result = await axios.get('https://1.238.222.186:9999/mbti/query/similar?mbti_id=000001&mbti_type=' + moreInputData.my_type + '&gender=' + moreInputData.gender);\n      console.log(result.data);\n      if (!completed) setTestData(result.data);\n    }\n\n    fetchData();\n    return () => {\n      completed = true;\n    };\n  }, []);\n  let home = \"https://1.238.222.186:9999/mbti\";\n  let result = \"https://192.168.1.180:3000/MoreShare\";\n  const nameList = testData.similarRanking && testData.similarRanking.map(name => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"more\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"moreNumber\",\n      children: name.rank\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"moreAvatar\",\n      children: /*#__PURE__*/_jsxDEV(Avatar, {\n        size: \"70\",\n        round: \"100px\",\n        \"facebook-id\": \"invalidfacebookusername\",\n        src: home + name.img_url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"moreText\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"moreIdolName\",\n        children: [name.item_1, \" \", name.item_2]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"moreLike\",\n        children: [\"\\u2764 \\uC88B\\uC544\\uC694 \", name.like, \"\\uAC1C\"]\n      }, name.item_2, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hart\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"\",\n        onClick: e => {\n          getUserGeolocationDetails(e, {\n            name\n          });\n        },\n        children: Harts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 7\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"result\",\n    children: isMobile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bgMbMore\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"moreTitle\",\n        children: \"\\uB098\\uC640 \\uC5B4\\uC6B8\\uB9AC\\uB294 \\uC544\\uC774\\uB3CC\\uC740\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"moreCount\",\n        children: [testData.similar_count, \"\\uBA85 \\uC785\\uB2C8\\uB2E4.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }, this), nameList, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shareTwitterBtn\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"shareTwitter\",\n          children: \"\\uD2B8\\uC704\\uD130\\uB85C \\uACF5\\uC720\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shareKakaoBtn\",\n        children: /*#__PURE__*/_jsxDEV(KakaoLinkDefault, {\n          className: \"template\",\n          template: {\n            objectType: \"feed\",\n            content: {\n              title: \"ì•„ì´ëŒë”ë³´ê¸°\",\n              description: \"#ì¼€ìµ #ë”¸ê¸° #ì‚¼í‰ë™ #ì¹´í˜ #ë¶„ìœ„ê¸° #ì†Œê°œíŒ…\",\n              imageUrl: \"../img/start.png\",\n              link: {\n                mobileWebUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type,\n                webUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type\n              }\n            },\n            social: {\n              likeCount: 286,\n              commentCount: 45,\n              sharedCount: 845\n            },\n            buttons: [{\n              title: \"ì›¹ìœ¼ë¡œ ë³´ê¸°\",\n              link: {\n                mobileWebUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type,\n                webUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type\n              }\n            }, {\n              title: \"ì•±ìœ¼ë¡œ ë³´ê¸°\",\n              link: {\n                mobileWebUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type,\n                webUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type\n              }\n            }]\n          },\n          jsKey: \"b9fb41bcc6b6ab2dea9c74602d2efcf3\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"shareKakao\",\n            children: \"\\uCE74\\uCE74\\uC624\\uB85C \\uACF5\\uC720\\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shareLinkBtn\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"shareLink\",\n          children: \"\\uB9C1\\uD06C\\uBCF5\\uC0AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shareAdBtn\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"shareAd\",\n          children: \"\\uAD11\\uACE0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shareReStartBtn\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"reStart\",\n            children: \"\\uB2E4\\uC2DC \\uD14C\\uC2A4\\uD2B8 \\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 9\n  }, this);\n}\n\n_s(More, \"/+lqvCxF9O+N1Sb7axOlRPY88Pg=\", false, function () {\n  return [useLocation, useLocation, useMediaQuery, useMediaQuery, useMediaQuery];\n});\n\n_c = More;\nexport default More;\n\nvar _c;\n\n$RefreshReg$(_c, \"More\");","map":{"version":3,"sources":["/Users/hyyyyjin/Documents/GitHub/mbti_frontend/src/page/More.js"],"names":["React","useState","useEffect","axios","useMediaQuery","useLocation","Link","Route","BrowserRouter","Router","Avatar","KakaoLinkDefault","KakaoLinkScrap","More","pathname","window","scrollTo","location","moreInputData","state","console","log","JSON","stringify","details","setDetails","Harts","SetHarts","HartFlag","SetHartFlag","getUserGeolocationDetails","e","name","completed","fetchData","post","then","response","item_1","Share","mbti_id","item_2","type","ip_addr","data","IPv4","mbti_type","my_type","gender","isPc","query","isTablet","isMobile","testData","setTestData","result","get","home","nameList","similarRanking","map","rank","img_url","like","similar_count","objectType","content","title","description","imageUrl","link","mobileWebUrl","webUrl","social","likeCount","commentCount","sharedCount","buttons"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'; \nimport axios from 'axios';\nimport { useMediaQuery } from 'react-responsive';\nimport { useLocation, Link, Route, BrowserRouter as Router } from 'react-router-dom';\nimport '../App.css';\nimport Avatar from 'react-avatar';\nimport { KakaoLinkDefault, KakaoLinkScrap } from 'react-kakao-link';\n\nfunction More () {\n\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n\n  const location = useLocation();\n  const moreInputData = location.state;\n  console.log(\"ë”ë³´ê¸°ë¡œ ë„˜ì–´ì˜¨ ë°ì´í„° :: \" + JSON.stringify(moreInputData));    \n\n  const [details, setDetails] = useState(null);\n  \n  const [Harts, SetHarts] = useState(\"ğŸ¤\");\n  const [HartFlag, SetHartFlag] = useState(0);\n  const getUserGeolocationDetails = (e,name) => {\n    if(HartFlag == 0){\n      SetHartFlag(1);\n      SetHarts(\"â¤\");\n    }\n    else{\n      SetHartFlag(0);\n      SetHarts(\"ğŸ¤\");\n    }\n    let completed = false;\n    async function fetchData(){\n      await axios.post('https://geolocation-db.com/json/0f761a30-fe14-11e9-b59f-e53803842572')\n      .then((response)=>{\n      if(!completed){\n        \n        console.log(\"name :: \" + JSON.stringify(name));\n        console.log(\"name.item1 :: \" + name.name.item_1);\n        \n        const Share = {\n          mbti_id : \"000001\",\n          item_1 : name.name.item_1,\n          item_2 : name.name.item_2,\n          type : \"like\",\n          ip_addr : response.data.IPv4,\n          mbti_type : moreInputData.my_type,\n          gender : moreInputData.gender\n        };\n        \n        console.log(\"share \" + JSON.stringify(Share));\n        \n        axios.post('https://1.238.222.186:9999/mbti/share',\n        Share\n        ).then((response)=>{\n          console.log(\"share \" + JSON.stringify(Share));\n          console.log(response);\n        });\n\n        setDetails(response.data);  \n        console.log(response.data);\n        //console.log(\"geoLoc :: \" + JSON.stringify(details));\n        //console.log(\"IPv4 :: \" + details.IPv4);\n         }\n      });\n    }\n    fetchData();\n    return () =>{\n      completed = true;\n    };\n\n  };  \n\n      const isPc = useMediaQuery({\n        query : \"(min-width:1024px)\"\n      });\n      const isTablet = useMediaQuery({\n        query : \"(min-width:768px) and (max-width:1023px)\"\n      });\n      const isMobile = useMediaQuery({\n        query : \"(max-width:767px)\"\n      });\n      \n      const [testData, setTestData] = useState([]);\n      useEffect(() => {\n        let completed = false;\n        async function fetchData(){\n          const result = await axios.get('https://1.238.222.186:9999/mbti/query/similar?mbti_id=000001&mbti_type='+moreInputData.my_type+'&gender='+moreInputData.gender);\n          console.log(result.data);\n        if(!completed) setTestData(result.data);\n        }\n        fetchData();\n        return () => {\n          completed = true;\n        };\n      },[]);\n\n      let home = \"https://1.238.222.186:9999/mbti\";\n      let result = \"https://192.168.1.180:3000/MoreShare\";\n      const nameList = testData.similarRanking && testData.similarRanking.map(name => \n      <div className=\"more\">\n        <h1 className=\"moreNumber\">{name.rank}</h1>\n        <div className=\"moreAvatar\">\n          <Avatar size=\"70\"\n                  round=\"100px\"\n                  facebook-id=\"invalidfacebookusername\"\n                  src={home + name.img_url}/>\n        </div>\n        <div className=\"moreText\">\n          <h1 className=\"moreIdolName\">{name.item_1} {name.item_2}</h1>\n          <h1 className=\"moreLike\" key={name.item_2}>â¤ ì¢‹ì•„ìš” {name.like}ê°œ</h1>\n          {/*<h1 className=\"moreShare\">ğŸ’Œ ê³µìœ í•˜ê¸° {name.shared}íšŒ</h1>*/}\n        </div>\n        <div className=\"hart\">\n          <h1 className=\"\" onClick={(e) => {getUserGeolocationDetails(e,{name})}}>{Harts}</h1>\n        </div>  \n      </div>\n      );\n      \n      \n\n    return (\n        <div className=\"result\">\n        {isMobile &&  \n          <div className=\"bgMbMore\">\n            <h1 className=\"moreTitle\">ë‚˜ì™€ ì–´ìš¸ë¦¬ëŠ” ì•„ì´ëŒì€</h1>\n            <h1 className=\"moreCount\">{testData.similar_count}ëª… ì…ë‹ˆë‹¤.</h1>\n            {nameList}\n            <div className=\"shareTwitterBtn\">\n              <h1 className=\"shareTwitter\">íŠ¸ìœ„í„°ë¡œ ê³µìœ í•˜ê¸°</h1>\n            </div>\n            <div className=\"shareKakaoBtn\">\n              <KakaoLinkDefault\n              className=\"template\"\n              template={{\n                objectType: \"feed\",\n                content: {\n                  title: \"ì•„ì´ëŒë”ë³´ê¸°\",\n                  description: \"#ì¼€ìµ #ë”¸ê¸° #ì‚¼í‰ë™ #ì¹´í˜ #ë¶„ìœ„ê¸° #ì†Œê°œíŒ…\",\n                  imageUrl:\n                    \"../img/start.png\",\n                  link: {\n                    mobileWebUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type,\n                    webUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type,\n                  },\n                },\n                social: {\n                  likeCount: 286,\n                  commentCount: 45,\n                  sharedCount: 845,\n                },\n                buttons: [\n                  {\n                    title: \"ì›¹ìœ¼ë¡œ ë³´ê¸°\",\n                    link: {\n                      mobileWebUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type,\n                      webUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type,\n                    },\n                  },\n                  {\n                    title: \"ì•±ìœ¼ë¡œ ë³´ê¸°\",\n                    link: {\n                      mobileWebUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type,\n                      webUrl: result + \"/\" + moreInputData.gender + \"/\" + moreInputData.my_type,\n                    },\n                  },\n                ],\n              }}\n              jsKey={\"b9fb41bcc6b6ab2dea9c74602d2efcf3\"}\n              >\n              <h1 className=\"shareKakao\">ì¹´ì¹´ì˜¤ë¡œ ê³µìœ í•˜ê¸°</h1>\n              </KakaoLinkDefault>\n            </div>\n            <div className=\"shareLinkBtn\">\n              <h1 className=\"shareLink\">ë§í¬ë³µì‚¬</h1>\n            </div>\n            <div className=\"shareAdBtn\">\n              <h1 className=\"shareAd\">ê´‘ê³ </h1>\n            </div>\n            <div className=\"shareReStartBtn\">\n              <Link to =\"/\">\n              <h1 className=\"reStart\">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ í•˜ê¸°</h1>\n              </Link>\n            </div>\n          </div>}\n      </div>\n    );\n\n}\n\nexport default More;"]},"metadata":{},"sourceType":"module"}