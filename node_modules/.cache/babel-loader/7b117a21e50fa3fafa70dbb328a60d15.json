{"ast":null,"code":"import _objectSpread from\"/Users/hyyyyjin/Documents/GitHub/mbti_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/hyyyyjin/Documents/GitHub/mbti_frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hyyyyjin/Documents/GitHub/mbti_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hyyyyjin/Documents/GitHub/mbti_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{useMediaQuery}from'react-responsive';import{useLocation,Link,Route,BrowserRouter as Router}from'react-router-dom';import'../App.css';import wBtnMb from'../img/wBtnMb.png';import mBtnMb from'../img/mBtnMb.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Question(){var _useLocation=useLocation(),pathname=_useLocation.pathname;useEffect(function(){window.scrollTo(0,0);},[pathname]);var location=useLocation();var genderTest=location.state;console.log(\"뭐지\"+JSON.stringify(genderTest));var isPc=useMediaQuery({query:\"(min-width:1024px)\"});var isTablet=useMediaQuery({query:\"(min-width:768px) and (max-width:1023px)\"});var isMobile=useMediaQuery({query:\"(max-width:767px)\"});var _useState=useState(['Q1.','Q2.','Q3.','Q4.','Q5.','Q6.','Q7.','Q8.','Q9.','Q10.','Q11.','Q12.']),_useState2=_slicedToArray(_useState,2),Qnumber=_useState2[0],NewQnumber=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),Question=_useState4[0],NewQuestion=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),Answer=_useState6[0],NewAnswer=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),Number=_useState8[0],NextNumber=_useState8[1];var i=0;var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),answerData=_useState10[0],setAnswerData=_useState10[1];useEffect(function(){var completed=false;function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!completed){setAnswerData(genderTest);}case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return function(){completed=true;};},[]);useEffect(function(){var completed=false;function fetchData(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('https://1.238.222.186:9999/mbti/query/quest?mbti_id=000001');case 2:result=_context2.sent;console.log(result.data.quest_list);if(!completed){NewQuestion(result.data);NewAnswer(result.data);}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData2.apply(this,arguments);}fetchData();return function(){completed=true;};},[]);function PostAnswerA(){var newAnswer=_objectSpread({},answerData);newAnswer.user_answer[Number].answer_idx=\"A\";setAnswerData(newAnswer);console.log(answerData);}function PostAnswerB(){var newAnswer=_objectSpread({},answerData);newAnswer.user_answer[Number].answer_idx=\"B\";setAnswerData(newAnswer);}function NextAnswerA(){var newAnswer=_objectSpread({},answerData);newAnswer.user_answer[Number].answer_idx=\"A\";setAnswerData(newAnswer);NextNumber(Number+1);}function NextAnswerB(){var newAnswer=_objectSpread({},answerData);newAnswer.user_answer[Number].answer_idx=\"B\";setAnswerData(newAnswer);NextNumber(Number+1);}function DefaultAs1Btn(){return/*#__PURE__*/_jsx(\"h1\",{className:\"fontAs\",onClick:NextAnswerA,children:Answer.quest_list&&Answer.quest_list[Number].answer_list[0].answer_dtl});}function NextAs1Btn(){return/*#__PURE__*/_jsx(Link,{to:{pathname:\"/Result\",state:{test:answerData}},children:/*#__PURE__*/_jsx(\"h1\",{className:\"fontAs\",onClick:PostAnswerA,children:Answer.quest_list&&Answer.quest_list[Number].answer_list[0].answer_dtl})});}function SetAs1Btn(){if(Number==11){return/*#__PURE__*/_jsx(NextAs1Btn,{});}else{return/*#__PURE__*/_jsx(DefaultAs1Btn,{});}}function DefaultAs2Btn(){return/*#__PURE__*/_jsx(\"h1\",{className:\"fontAs\",onClick:NextAnswerB,children:Answer.quest_list&&Answer.quest_list[Number].answer_list[1].answer_dtl});}function NextAs2Btn(){return/*#__PURE__*/_jsx(Link,{to:{pathname:\"/Result\",state:{test:answerData}},children:/*#__PURE__*/_jsx(\"h1\",{className:\"fontAs\",onClick:PostAnswerB,children:Answer.quest_list&&Answer.quest_list[Number].answer_list[1].answer_dtl})});}function SetAs2Btn(){if(Number==11){return/*#__PURE__*/_jsx(NextAs2Btn,{});}else{return/*#__PURE__*/_jsx(DefaultAs2Btn,{});}}return/*#__PURE__*/_jsx(\"div\",{className:\"qs\",children:isMobile&&/*#__PURE__*/_jsxs(\"div\",{className:\"bgMbQs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"fontTitle\",children:Qnumber[Number]})}),/*#__PURE__*/_jsx(\"div\",{className:\"qs1\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"fontQs\",children:Question.quest_list&&Question.quest_list[Number].quest_dtl})}),/*#__PURE__*/_jsx(\"div\",{className:\"as1\",children:/*#__PURE__*/_jsx(SetAs1Btn,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"as2\",children:/*#__PURE__*/_jsx(SetAs2Btn,{})})]})});}export default Question;","map":{"version":3,"sources":["/Users/hyyyyjin/Documents/GitHub/mbti_frontend/src/page/Question.js"],"names":["React","useState","useEffect","axios","useMediaQuery","useLocation","Link","Route","BrowserRouter","Router","wBtnMb","mBtnMb","Question","pathname","window","scrollTo","location","genderTest","state","console","log","JSON","stringify","isPc","query","isTablet","isMobile","Qnumber","NewQnumber","NewQuestion","Answer","NewAnswer","Number","NextNumber","i","answerData","setAnswerData","completed","fetchData","get","result","data","quest_list","PostAnswerA","newAnswer","user_answer","answer_idx","PostAnswerB","NextAnswerA","NextAnswerB","DefaultAs1Btn","answer_list","answer_dtl","NextAs1Btn","test","SetAs1Btn","DefaultAs2Btn","NextAs2Btn","SetAs2Btn","quest_dtl"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'; \nimport axios from 'axios';\nimport { useMediaQuery } from 'react-responsive';\nimport { useLocation, Link, Route, BrowserRouter as Router } from 'react-router-dom';\nimport '../App.css';\nimport wBtnMb from '../img/wBtnMb.png';\nimport mBtnMb from '../img/mBtnMb.png';\n\nfunction Question () {\n\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  const location = useLocation();\n  const genderTest = location.state;\n  console.log(\"뭐지\" + JSON.stringify(genderTest));\n\n\n\n  const isPc = useMediaQuery({\n    query : \"(min-width:1024px)\"\n  });\n  const isTablet = useMediaQuery({\n    query : \"(min-width:768px) and (max-width:1023px)\"\n  });\n  const isMobile = useMediaQuery({\n    query : \"(max-width:767px)\"\n  });\n\n  let [Qnumber, NewQnumber] = useState(['Q1.','Q2.','Q3.','Q4.','Q5.','Q6.','Q7.','Q8.','Q9.','Q10.','Q11.','Q12.']);\n\n  const [Question, NewQuestion] = useState([]);\n  let [Answer, NewAnswer] = useState([]);\n  let [Number, NextNumber] = useState(0);\n  let i = 0;\n  \n  let [answerData, setAnswerData] = useState([]);\n  useEffect(() => {\n    let completed = false;\n    async function fetchData(){\n\n    if(!completed) {\n      setAnswerData(genderTest);\n      }\n    }\n    fetchData();\n    return () => {\n      completed = true;\n    };\n  },[]);\n  \n  useEffect(() => {\n    let completed = false;\n    async function fetchData(){\n      const result = await axios.get('https://1.238.222.186:9999/mbti/query/quest?mbti_id=000001');\n      console.log(result.data.quest_list);\n    if(!completed) {\n      NewQuestion(result.data);\n      NewAnswer(result.data);\n      }\n    }\n    fetchData();\n    return () => {\n      completed = true;\n    };\n  },[]);\n  \n  \n  function PostAnswerA() {\n    let newAnswer = {...answerData};\n    newAnswer.user_answer[Number].answer_idx = \"A\";\n    setAnswerData(newAnswer);\n    console.log(answerData);\n\n}\n\n  function PostAnswerB() {\n    let newAnswer = {...answerData};\n    newAnswer.user_answer[Number].answer_idx = \"B\";\n    setAnswerData(newAnswer);    \n\n  }\n\n\n\n  function NextAnswerA () {\n\n    let newAnswer = {...answerData};\n    newAnswer.user_answer[Number].answer_idx = \"A\";\n    setAnswerData(newAnswer);\n    NextNumber(Number + 1);\n  }\n  \n  function NextAnswerB () {\n    let newAnswer = {...answerData};\n    newAnswer.user_answer[Number].answer_idx = \"B\";\n    setAnswerData(newAnswer);\n    NextNumber(Number + 1);\n  }\n\n  function DefaultAs1Btn() {\n    return(\n      <h1 className=\"fontAs\" onClick={NextAnswerA}>\n        {Answer.quest_list && Answer.quest_list[Number].answer_list[0].answer_dtl}\n      </h1>\n      \n    );\n  }\n\n  function NextAs1Btn() {\n    return(\n      <Link to = {{pathname:\"/Result\",state:\n      {test:answerData}}}>\n        <h1 className=\"fontAs\" onClick={PostAnswerA}>\n          {Answer.quest_list && Answer.quest_list[Number].answer_list[0].answer_dtl}\n        </h1>\n      </Link>\n    );\n  }\n\n  function SetAs1Btn() {\n    if(Number == 11){\n      return <NextAs1Btn></NextAs1Btn>;\n    }\n    else{\n      return <DefaultAs1Btn></DefaultAs1Btn>;\n    }\n  }\n\n\n\n  function DefaultAs2Btn() {\n    return(\n      <h1 className=\"fontAs\" onClick={NextAnswerB}>\n        {Answer.quest_list && Answer.quest_list[Number].answer_list[1].answer_dtl}\n      </h1>\n    );\n  }\n\n  function NextAs2Btn() {\n    return(\n      <Link to = {{pathname:\"/Result\",state:\n      {test:answerData}}}>\n        <h1 className=\"fontAs\" onClick={PostAnswerB}>\n          {Answer.quest_list && Answer.quest_list[Number].answer_list[1].answer_dtl}\n        </h1>\n      </Link>\n    );\n  }\n\n  function SetAs2Btn() {\n    if(Number == 11){\n      return <NextAs2Btn></NextAs2Btn>;\n    }\n    else{\n      return <DefaultAs2Btn></DefaultAs2Btn>;\n    }\n  }\n\n    return (\n      <div className=\"qs\">\n        {isMobile && \n          <div className=\"bgMbQs\">\n            <div className=\"title\">\n              <h1 className=\"fontTitle\">{Qnumber[Number]}</h1>\n            </div>\n            <div className=\"qs1\">\n              <h1 className=\"fontQs\">{Question.quest_list && Question.quest_list[Number].quest_dtl}</h1>\n            </div>\n            <div className=\"as1\">\n              <SetAs1Btn></SetAs1Btn>\n            </div>\n            <div className=\"as2\">\n              <SetAs2Btn></SetAs2Btn>\n            </div>\n          </div>}\n      </div>\n    );\n\n}\n\nexport default Question;"]},"metadata":{},"sourceType":"module"}